{
  "学習を含むリクエスト例": {
    "説明": "学習してからテキスト生成を実行するリクエスト例",
    "注意": "train_before_generateフラグを使用して学習→生成を一度に実行します"
  },
  
  "example_1_基本の学習と生成": {
    "input": {
      "action": "generate",
      "mode": "layered",
      "prompt": "ChatGPTについて教えて",
      "max_length": 80,
      "temperature": 0.7,
      "top_k": 40,
      "top_p": 0.9,
      "repetition_penalty": 2.5,
      "train_before_generate": true,
      "data_sources": ["huggingface"],
      "common_crawl_config": {
        "max_records": 100
      },
      "epochs": 20,
      "batch_size": 16,
      "learning_rate": 0.001,
      "seq_length": 64
    }
  },

  "example_2_詳細な学習パラメータ": {
    "input": {
      "action": "generate",
      "mode": "layered",
      "prompt": "量子コンピュータとは何ですか？",
      "max_length": 100,
      "temperature": 0.7,
      "top_k": 40,
      "top_p": 0.9,
      "repetition_penalty": 2.5,
      "train_before_generate": true,
      "data_sources": ["huggingface"],
      "common_crawl_config": {
        "max_records": 200
      },
      "epochs": 30,
      "batch_size": 16,
      "learning_rate": 0.0005,
      "seq_length": 64,
      "embed_dim": 128,
      "hidden_dim": 256,
      "num_heads": 4,
      "num_layers": 3
    }
  },

  "example_3_Brainモードで学習と生成": {
    "input": {
      "action": "generate",
      "mode": "brain",
      "prompt": "人工知能について説明してください",
      "max_length": 100,
      "temperature": 0.7,
      "top_k": 40,
      "top_p": 0.9,
      "repetition_penalty": 2.5,
      "train_before_generate": true,
      "data_sources": ["huggingface"],
      "common_crawl_config": {
        "max_records": 100
      },
      "epochs": 20,
      "batch_size": 16,
      "learning_rate": 0.001,
      "seq_length": 64,
      "embed_dim": 128,
      "num_neurons": 100,
      "max_vocab": 16000
    }
  },

  "example_4_最小限のパラメータ": {
    "input": {
      "action": "generate",
      "mode": "layered",
      "prompt": "こんにちは",
      "max_length": 50,
      "train_before_generate": true,
      "epochs": 10,
      "common_crawl_config": {
        "max_records": 50
      }
    }
  },

  "example_5_長時間学習": {
    "input": {
      "action": "generate",
      "mode": "layered",
      "prompt": "深層学習について詳しく教えて",
      "max_length": 150,
      "temperature": 0.7,
      "top_k": 40,
      "top_p": 0.9,
      "repetition_penalty": 2.5,
      "train_before_generate": true,
      "data_sources": ["huggingface"],
      "common_crawl_config": {
        "max_records": 500
      },
      "epochs": 50,
      "batch_size": 32,
      "learning_rate": 0.0001,
      "seq_length": 128,
      "embed_dim": 256,
      "hidden_dim": 512,
      "num_heads": 8,
      "num_layers": 4
    }
  },

  "パラメータ説明": {
    "学習パラメータ": {
      "train_before_generate": "trueにすると学習してから生成を実行",
      "epochs": "エポック数（推奨: 10-50）",
      "batch_size": "バッチサイズ（推奨: 16-32）",
      "learning_rate": "学習率（推奨: 0.0001-0.001）",
      "seq_length": "シーケンス長（推奨: 64-128）",
      "max_records": "最大データレコード数（推奨: 50-500）",
      "data_sources": "データソース（現在は['huggingface']のみ）"
    },
    "生成パラメータ": {
      "max_length": "最大生成長（推奨: 50-150）",
      "temperature": "温度パラメータ（推奨: 0.5-0.9）",
      "top_k": "Top-K サンプリング（推奨: 20-60）",
      "top_p": "Top-P サンプリング（推奨: 0.8-0.95）",
      "repetition_penalty": "繰り返しペナルティ（推奨: 2.0-2.5）"
    },
    "モデルパラメータ": {
      "mode": "モード（'layered' または 'brain'）",
      "embed_dim": "埋め込み次元（Layered/Brain共通）",
      "hidden_dim": "隠れ層次元（Layeredのみ）",
      "num_heads": "アテンションヘッド数（Layeredのみ）",
      "num_layers": "レイヤー数（Layeredのみ）",
      "num_neurons": "ニューロン数（Brainのみ）",
      "max_vocab": "最大語彙数（Brainのみ）"
    }
  },

  "使用例": {
    "Python_例": {
      "コード": "import requests\nimport json\nimport os\n\nRUNPOD_API_KEY = os.getenv('RUNPOD_API_KEY')\nENDPOINT_ID = os.getenv('RUNPOD_ENDPOINT_ID')\nRUNPOD_URL = f'https://api.runpod.ai/v2/{ENDPOINT_ID}/run'\n\nheaders = {\n    'Content-Type': 'application/json',\n    'Authorization': f'Bearer {RUNPOD_API_KEY}'\n}\n\npayload = {\n    'input': {\n        'action': 'generate',\n        'mode': 'layered',\n        'prompt': 'ChatGPTについて教えて',\n        'max_length': 80,\n        'temperature': 0.7,\n        'top_k': 40,\n        'top_p': 0.9,\n        'repetition_penalty': 2.5,\n        'train_before_generate': True,\n        'data_sources': ['huggingface'],\n        'common_crawl_config': {\n            'max_records': 100\n        },\n        'epochs': 20,\n        'batch_size': 16,\n        'learning_rate': 0.001,\n        'seq_length': 64\n    }\n}\n\nresponse = requests.post(RUNPOD_URL, headers=headers, json=payload)\nresult = response.json()\n\n# 非同期実行の場合、ステータスをポーリングする必要があります\njob_id = result.get('id')\nprint(f'ジョブID: {job_id}')"
    },
    "cURL_例": {
      "コード": "curl -X POST \\\n  https://api.runpod.ai/v2/YOUR_ENDPOINT_ID/run \\\n  -H 'Content-Type: application/json' \\\n  -H 'Authorization: Bearer YOUR_API_KEY' \\\n  -d '{\n    \"input\": {\n      \"action\": \"generate\",\n      \"mode\": \"layered\",\n      \"prompt\": \"ChatGPTについて教えて\",\n      \"max_length\": 80,\n      \"temperature\": 0.7,\n      \"repetition_penalty\": 2.5,\n      \"train_before_generate\": true,\n      \"data_sources\": [\"huggingface\"],\n      \"common_crawl_config\": {\n        \"max_records\": 100\n      },\n      \"epochs\": 20,\n      \"batch_size\": 16,\n      \"learning_rate\": 0.001\n    }\n  }'"
    }
  }
}

